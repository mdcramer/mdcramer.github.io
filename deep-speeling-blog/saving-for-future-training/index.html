<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.6.0 by Michael Rose
  Copyright 2017 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin SEO -->













<title>Saving for future training - Hackin’ and Tinkerin’</title>




<meta name="description" content="When training can last for days, and days, it’s nice to be able to save the graph where it is an then pick it up again later.">




<meta name="author" content="">

<meta property="og:locale" content="en">
<meta property="og:site_name" content="Hackin' and Tinkerin'">
<meta property="og:title" content="Saving for future training - Hackin’ and Tinkerin’">


  <link rel="canonical" href="https://mdcramer.github.io/deep-speeling-blog/saving-for-future-training/">
  <meta property="og:url" content="https://mdcramer.github.io/deep-speeling-blog/saving-for-future-training/">



  <meta property="og:description" content="When training can last for days, and days, it’s nice to be able to save the graph where it is an then pick it up again later.">



  <meta name="twitter:site" content="@markdcramer">
  <meta name="twitter:title" content="Saving for future training - Hackin’ and Tinkerin’">
  <meta name="twitter:description" content="When training can last for days, and days, it’s nice to be able to save the graph where it is an then pick it up again later.">
  <meta name="twitter:url" content="https://mdcramer.github.io/deep-speeling-blog/saving-for-future-training/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2017-09-24T00:00:00-07:00">














<!-- end SEO -->


<link href="https://mdcramer.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Hackin' and Tinkerin' Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="https://mdcramer.github.io/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav"><a class="site-title" href="/deep-speeling-blog/">deep speeling blog</a>
        <ul class="visible-links">
          
            <li class="masthead__menu-item"><a href="/">Home</a></li>
            
            
<li>
  <a href="https://github.com/mdcramer/mdcramer.github.io/tree/blog/_deep-speeling-blog"><i class="fa fa-fw fa-github" aria-hidden="true"></i>GitHub</a>
</li>
        </ul>
        <button type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
    <div itemscope itemtype="http://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="https://mdcramer.github.io/assets/images/profilepic-small.jpg" class="author__avatar" alt="Mark Cramer" itemprop="image">
      
    </div>
  

  <div class="author__content">
    <h3 class="author__name" itemprop="name">Mark Cramer</h3>
    
      <p class="author__bio" itemprop="description">
        Product Management executive who enjoys hacking around with code in his free time, of which there is never, sadly, enough.
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Profile</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
          <i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> <span itemprop="name">San Francisco</span>
        </li>
      

      

      

      

      
        <li>
          <a href="https://twitter.com/markdcramer" itemprop="sameAs">
            <i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter
          </a>
        </li>
      

      
        <li>
          <a href="https://www.facebook.com/markdcramer" itemprop="sameAs">
            <i class="fa fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook
          </a>
        </li>
      

      
        <li>
          <a href="https://www.linkedin.com/in/mcramer" itemprop="sameAs">
            <i class="fa fa-fw fa-linkedin-square" aria-hidden="true"></i> LinkedIn
          </a>
        </li>
      

      

      
        <li>
          <a href="https://github.com/mdcramer" itemprop="sameAs">
            <i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      

      
        <li>
          <a href="https://www.stackoverflow.com/users/852795/mark-cramer" itemprop="sameAs">
            <i class="fa fa-fw fa-stack-overflow" aria-hidden="true"></i> Stackoverflow
          </a>
        </li>
      

      
        
          <li>
            <a href="https://youtube.com/c/MarkCramerD" itemprop="sameAs">
              <i class="fa fa-fw fa-youtube-square" aria-hidden="true"></i> YouTube
            </a>
          </li>
        
      

      

      
        <li>
          <a href="https://scholar.google.com/citations?user=vlo46P8AAAAJ" itemprop="sameAs">
            <img src="/assets/images/googlescholar.svg" alt="googlescholar" class="profile_icon"> Google Scholar
          </a>
        </li>
      
    </ul>
  </div>
</div>
  
  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Saving for future training">
    <meta itemprop="description" content="When training can last for days, and days, it’s nice to be able to save the graph where it is an then pick it up again later.">
    <meta itemprop="datePublished" content="September 24, 2017">
    <meta itemprop="dateModified" content="October 07, 2017">

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Saving for future training
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        <p>The Udacity <a href="https://github.com/mdcramer/deep-learning/tree/master/seq2seq">sequence to sequence project</a> that I used as a starting point for the code actually had code to save and then reload the graph. I’m not sure why they decided to do that, but the graph is saved at the end of training and then reloaded right before it is used to make a prediction. So simply going back to continue training after the graph is saved should be easy, right?</p>

<p>Nothing is ever easy.</p>

<h2 id="getting-help-from-stack-overflow">Getting help from Stack Overflow</h2>
<p>The problem was that while the Udacity project saved the graph, it only ‘named’ those variables necessary for the predictions. It did not ‘name’ those variables that are also necessary for continued training. This problem vexed me for days, so I finally went to <a href="https://stackoverflow.com/questions/46374113/indexerror-when-loading-saved-tensorflow-graph-to-continue-training">Stack Overflow</a> for assistance. While there were a number of generous individuals who tried to give me a hand, in the end I had to figure it out myself. For the benefit of others who might stumble across the same problem, I went ahead and answered my own question.</p>

<h2 id="setting-up-the-script-to-run-automatically">Setting up the script to run automatically.</h2>
<p>While I was fiddling with the script I figured I would also get the thing to run ‘automatically’ from top to bottom. Part of the problem with Jupyter (or perhaps one of the benefits of Jupyter), is that you can manually execute the cells one at a time. When doing so it’s easy to jump over any cells that shouldn’t be run, for whatever reason.</p>

<p>Therefore, I arranged the code so that not only could it run from top to bottom automatically, but I could export the script to a .py file and run it from the command line. This will be handy for running in the background on EC2. Additionally, I added the ability to insert the command line switch “small” to indicate that the script should run on the small data. This turns out to be very handy for testing and debugging.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/saving" class="page__taxonomy-item" rel="tag">saving</a><span class="sep">, </span>
    
      
      
      <a href="/tags/stack-overflow" class="page__taxonomy-item" rel="tag">stack overflow</a><span class="sep">, </span>
    
      
      
      <a href="/tags/training" class="page__taxonomy-item" rel="tag">training</a>
    
    </span>
  </p>




        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-10-07">October 07, 2017</time></p>
        
      </footer><section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=markdcramer&text=Saving+for+future+training%20https%3A%2F%2Fmdcramer.github.io%2Fdeep-speeling-blog%2Fsaving-for-future-training%2F" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmdcramer.github.io%2Fdeep-speeling-blog%2Fsaving-for-future-training%2F" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>
<!-- 
  <a href="https://plus.google.com/share?url=https%3A%2F%2Fmdcramer.github.io%2Fdeep-speeling-blog%2Fsaving-for-future-training%2F" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a> -->

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fmdcramer.github.io%2Fdeep-speeling-blog%2Fsaving-for-future-training%2F" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>

  <nav class="pagination">
    
      <a href="https://mdcramer.github.io/deep-speeling-blog/smaller-batches-and-dropout/" class="pagination--pager" title="Smaller batches and Dropout
">Previous</a>
    
    
      <a href="https://mdcramer.github.io/deep-speeling-blog/running-on-ec2/" class="pagination--pager" title="Running on EC2
">Next</a>
    
  </nav>
</div><div class="page__comments">
  
    
        <h4 class="page__comments-title">Leave a Comment</h4>
        <section id="disqus_thread"></section>
      
</div></article>
</div>


    <div class="page__footer">
      <footer>
        <div class="page__footer-follow">
  <ul class="social-icons">
    <!-- 
      <li><strong>Follow:</strong></li>
     -->
    
      <li><a href="https://twitter.com/markdcramer"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    

    
    <li>
      <a href="https://www.linkedin.com/in/mcramer" itemprop="sameAs">
        <i class="fa fa-fw fa-linkedin-square" aria-hidden="true"></i> LinkedIn
      </a>
    </li>
    
<li>
  <a href="https://github.com/mdcramer/mdcramer.github.io/tree/blog/_deep-speeling-blog"><i class="fa fa-fw fa-github" aria-hidden="true"></i>GitHub</a>
</li>
    <li>
      <a href="https://www.stackoverflow.com/users/852795/mark-cramer" itemprop="sameAs">
        <i class="fa fa-fw fa-stack-overflow" aria-hidden="true"></i> Stackoverflow
      </a>
    </li>
    

    
    <li>
      <a href="https://scholar.google.com/citations?user=vlo46P8AAAAJ" itemprop="sameAs">
        <img src="/assets/images/googlescholar.svg" alt="googlescholar" class="profile_icon"> Google Scholar
      </a>
    </li>
  

    <li><a href="https://mdcramer.github.io/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 Mark Cramer. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="https://mdcramer.github.io/assets/js/main.min.js"></script>




  
      
  <script>
    var disqus_config = function () {
      this.page.url = "https://mdcramer.github.io/deep-speeling-blog/saving-for-future-training/";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "/deep-speeling-blog/saving-for-future-training"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://githubmdcramer.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


    


    <script type="text/javascript" async 
src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?
config=TeX-AMS-MML_HTMLorMML"></script>

  </body>
</html>